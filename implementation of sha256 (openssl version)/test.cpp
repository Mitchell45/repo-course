#include "openssl_sm3.h"

#include <iostream>
#include "openssl/evp.h"
using namespace std;

int main()
{
	unsigned char hash_value[64];
	unsigned int i, hash_len;
	char test[] = { 0x01,0x23,0x45,0x67,0x01,0x23,0x45,0x67,0x01,0x23,0x45,0x67,0x01,0x23,0x45,0x67,0x01,0x23,0x45,0x67,0x01,0x23,0x45,0x67,0x01,0x23,0x45,0x67,0x01,0x23,0x45,0x67,0x01,0x23,0x45,0x67,0x01,0x23,0x45,0x67,0x01,0x23,0x45,0x67,0x01,0x23,0x45,0x67,0x01,0x23,0x45,0x67,0x01,0x23,0x45,0x67,0x01,0x23,0x45,0x67,0x01,0x23,0x45,0x67 };
	unsigned int len = sizeof(test);
	sha256(test, len, hash_value, &hash_len);
	printf("plain text:");
	for (i = 0; i < len; i++)
	{
		if (i % 8 == 0)
			printf("\n");
		printf("0x%x  ", test[i]);
	}
	printf("\n\nsha256 hash length: %d bytes.\n\n", hash_len);
	printf("sha256 hash value:");
	for (i = 0; i < hash_len; i++)
	{
		if (i % 8 == 0)
			printf("\n");
		printf("0x%x  ", hash_value[i]);
	}
}
